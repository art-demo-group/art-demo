/******* jQUERY PLUGINS BEGIN HERE *******/
/*Google Analytics Event Tracking jQuery Plugin // Copyright (C) 2011 by Building Blocks UK // Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. // Author: Robert Stevenson-Leggett // Version: 0.92*/
 (function($){$.extend({ga:{trackEvent:function(args){var defaultArgs={category:'Unspecified',action:'Unspecified',nonInteractive:false};args=$.extend(defaultArgs,args);_gaq.push(['_trackEvent',args.category,args.action,args.label,args.value,args.nonInteractive]);}}});var defaultOptions={categoryAttribute:'data-ga-category',actionAttribute:'data-ga-action',labelAttribute:'href',valueAttribute:'data-ga-value',noninteractiveAttribute:'data-ga-noninteractive',useLabel:true,useValue:false,useEvent:true,event:'click',valid:function(elem,e){return true;},complete:function(elem,e){},category:'Unspecified',action:'Click',label:'',value:'',nonInteractive:false};$.fn.gaTrackEvent=function(options){options=$.extend(defaultOptions,options);return this.each(function(){var element=$(this);element.attr(options.categoryAttribute,options.category);element.attr(options.actionAttribute,options.action);if(options.useLabel===true&&options.label!==''){element.attr(options.labelAttribute,options.label);}if(options.useValue===true&&options.value!==''){element.attr(options.valueAttribute,options.value);}if(options.nonInteractive===true){element.attr(options.noninteractiveAttribute,"true");}element.gaTrackEventUnobtrusive(options);});};$.fn.gaTrackEventUnobtrusive=function(options){options=$.extend(defaultOptions,options);return this.each(function(){var _this=$(this);var callTrackEvent=function(){var category=_this.attr(options.categoryAttribute);var action=_this.attr(options.actionAttribute);var label=_this.attr(options.labelAttribute);var value=_this.attr(options.valueAttribute);var nonInteractive=(_this.attr(options.noninteractiveAttribute)==='true');var args={category:category,action:action,nonInteractive:nonInteractive};if(options.useLabel&&options.useValue){args.label=label;args.value=value;}else if(options.useLabel){args.label=label;}$.ga.trackEvent(args);};if(options.useEvent==true){var constructedFunction=function(e){if(options.valid(_this,e)===true){callTrackEvent();options.complete(_this,e);}};_this.on(options.event,constructedFunction);}else{callTrackEvent();}});};})(jQuery);
// GSA jQuery plugin
(function($) {$.fn.GSASearch = function(options){var defaults = {q:"",start:"",num:"15",sitesearch:"",site:"default_collection",waitGifPath:"/i/template/loading.gif",protocol:location.protocol,client:"default_frontend",includeKeymatches:false};var options = $.extend(defaults, options);var resultsContainer = $(this);resultsContainer.data("searchSiteURL", options.protocol+'//search.uchicago.edu');resultsContainer.data("startNumber", "1");resultsContainer.data("totalCount", "10");return this.each(function() {resultsContainer.empty();resultsContainer.html('<img src="'+options.waitGifPath+'">');options.q = options.q.replace(/(<([^>]+)>)/ig,"");options.start = options.start.toString().replace(/(<([^>]+)>)/ig,"");options.num = options.num.toString().replace(/(<([^>]+)>)/ig,"");options.sitesearch = options.sitesearch.replace(/(<([^>]+)>)/ig,"");options.site = options.site.replace(/(<([^>]+)>)/ig,"");options.client = options.client.replace(/(<([^>]+)>)/ig,"");search(options.q, options.start, options.num, options.sitesearch, options.site, options.client);});function search(q, start, num, sitesearch, site, client) {var Base64 = {_keyStr : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode : function (input) {var output = "";var chr1, chr2, chr3, enc1, enc2, enc3, enc4;var i = 0;input = Base64._utf8_encode(input);while (i < input.length) {chr1 = input.charCodeAt(i++);chr2 = input.charCodeAt(i++);chr3 = input.charCodeAt(i++);enc1 = chr1 >> 2;enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);enc4 = chr3 & 63;if (isNaN(chr2)) {enc3 = enc4 = 64;} else if (isNaN(chr3)) {enc4 = 64;}output = output + this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) + this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);}return output;},	decode : function (input) {var output = "";var chr1, chr2, chr3;var enc1, enc2, enc3, enc4;var i = 0;input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");while (i < input.length) {enc1 = this._keyStr.indexOf(input.charAt(i++));enc2 = this._keyStr.indexOf(input.charAt(i++));enc3 = this._keyStr.indexOf(input.charAt(i++));enc4 = this._keyStr.indexOf(input.charAt(i++));chr1 = (enc1 << 2) | (enc2 >> 4);chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);chr3 = ((enc3 & 3) << 6) | enc4;output = output + String.fromCharCode(chr1);if (enc3 != 64) {output = output + String.fromCharCode(chr2);}if (enc4 != 64) {output = output + String.fromCharCode(chr3);}}output = Base64._utf8_decode(output);return output;},_utf8_encode : function (string) {string = string.replace(/\r\n/g,"\n");var utftext = "";for (var n = 0; n < string.length; n++) {var c = string.charCodeAt(n);if (c < 128) {utftext += String.fromCharCode(c);}else if((c > 127) && (c < 2048)) {utftext += String.fromCharCode((c >> 6) | 192);utftext += String.fromCharCode((c & 63) | 128);}else {utftext += String.fromCharCode((c >> 12) | 224);utftext += String.fromCharCode(((c >> 6) & 63) | 128);utftext += String.fromCharCode((c & 63) | 128);}}return utftext;},_utf8_decode : function (utftext) {var string = "";var i = 0;var c = c1 = c2 = 0;while ( i < utftext.length ) {c = utftext.charCodeAt(i);if (c < 128) {string += String.fromCharCode(c);i++;}else if((c > 191) && (c < 224)) {c2 = utftext.charCodeAt(i+1);string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));i += 2;}else {c2 = utftext.charCodeAt(i+1);c3 = utftext.charCodeAt(i+2);string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));i += 3;}}return string;}};var searchParams = '&q=' + escape(q) + '&start='+ escape(start) + '&sitesearch=';searchParams += escape(sitesearch) + '&site=' + escape(site) + '&client='+escape(client);searchParams += '&filter=0';var jsonParams = 'proxystylesheet=jsonp_frontend'+searchParams+ '&num='+ escape(num);var searchSiteURL = options.protocol+'//search.uchicago.edu/search?proxystylesheet=default_frontend'+searchParams;var proxyUrl = options.protocol+'//webresources.uchicago.edu/php/proxy/gsaproxy.php?encodedParams='+Base64.encode(jsonParams)+'&callback=?';    resultsContainer.data("searchSiteURL", searchSiteURL);var fetchSuccess = 0;var jqxhr = $.getJSON(proxyUrl, function(data) {showResults(data);fetchSuccess = 1;});if (jqxhr != undefined){jqxhr.error(function() {showError(); });} else {setTimeout(function(){if (!fetchSuccess){showError();}},7000);}}function showError(){var message = 'There is a problem fetching search results. Please refresh the page or contact <a href="mailto:weberror@uchicago.edu">weberror@uchicago.edu</a>.';resultsContainer.html(message);resultsContainer.data("totalCount", 0);resultsContainer.trigger('GSASearchComplete');}function showResults(data){var startNumber, totalCount = 0;var el, newEl;el = $('<div></div>');newEl = $('<h2></h2>');newEl.text('You searched for: “'+data.GSP.Q+'”');el.append(newEl);if (data.GSP.RES == undefined){newEl = $('<p>No pages were found.</p>');el.append(newEl);} else {newEl = $('<p><strong></strong></p>');newEl.find('strong').text('Results '+data.GSP.RES.SN+'–'+data.GSP.RES.EN+' of about '+data.GSP.RES.M);el.append(newEl);if (data.GSP.GM != undefined && options.includeKeymatches == true){if (data.GSP.GM.length == undefined){var keyMatches = new Array(data.GSP.GM);} else {var keyMatches = data.GSP.GM;}for (i = 0; i < keyMatches.length; i++){newEl = $('<div class="keymatch"><h3><a></a></h3><p><em></em></p></div>');newEl.find('h3 a').attr('href',keyMatches[i].GL);newEl.find('h3 a').text(keyMatches[i].GD);newEl.find('p em').text(keyMatches[i].GL);el.append(newEl);}}var thisResultCount = data.GSP.RES.EN-data.GSP.RES.SN+1;el.append('<div class="results"></div>');if (thisResultCount == 1){var results = new Array(data.GSP.RES.R);} else {var results = data.GSP.RES.R;}for(var i=0; i<results.length; i++) {var result = results[i];if ( result['S'] == null ) {result['S'] = '';}newEl = $('<div class="result"><h3><a></a></h3><p><br class="url"><em><a></a></em></p></div>');newEl.find('a').attr('href',result['U']);newEl.find('a').html(result['T']);newEl.find('em a').text(result['U']);newEl.find('p').prepend(result['S']);el.find('.results').append(newEl);}var perPageCount = options.num;startNumber = data.GSP.RES.SN;totalCount = (thisResultCount < perPageCount) ? data.GSP.RES.EN : data.GSP.RES.M;}resultsContainer.empty().append(el.contents());resultsContainer.data("startNumber", startNumber);resultsContainer.data("totalCount", totalCount);resultsContainer.trigger('GSASearchComplete');$('.maincontent br').not('.url').replaceWith(' ');}};})(jQuery);
//jQuery pager
(function($) {$.fn.pager = function(options) {var opts = $.extend({}, $.fn.pager.defaults, options);return this.each(function() {$(this).empty().append(renderpager(parseInt(options.pagenumber), parseInt(options.pagecount), options.buttonClickCallback));});};function renderpager(pagenumber, pagecount, buttonClickCallback) {var $pager = $('<ul></ul>');$pager.append(renderButton('first', pagenumber, pagecount, buttonClickCallback));var startPoint = 1;var endPoint = 9;if (pagenumber > 4) {startPoint = pagenumber - 4;endPoint = pagenumber + 4;}if (endPoint > pagecount) {startPoint = pagecount - 8;endPoint = pagecount;}if (startPoint < 1) {startPoint = 1;}for (var page = startPoint; page <= endPoint; page++) {var currentButton = $('<li>' + (page) + '</li>');page == pagenumber ? currentButton.addClass('active') : currentButton.on('click focusin',function(){buttonClickCallback(this.firstChild.data);});currentButton.appendTo($pager);}return $pager;}function renderButton(buttonLabel, pagenumber, pagecount, buttonClickCallback) {var $Button = $('<li>' + buttonLabel + '</li>');var destPage = 1;switch (buttonLabel) {case "first": destPage = 1;break;}if (buttonLabel == "first") {pagenumber <= 1 ? $Button : $Button.on('click focusin',function(){buttonClickCallback(destPage);});}else {pagenumber >= pagecount ? $Button : $Button.on('click focusin',function(){buttonClickCallback(destPage);});}return $Button;}$.fn.pager.defaults = {pagenumber: 1,pagecount: 1};})(jQuery);
// custom search results
$(function() {$('#sitesearch, #searchform').attr('action','/search');$('#searchtext, #sitesearchtext').attr('name','keyword');function submitSearch(searchTerm){linkDiv = $("#GSALink");pagerDiv = $("#GSAPager");resultsDiv = $("#GSAResults");thisQ = searchTerm;perPageCount = 15;linkDiv.empty();pagerDiv.empty();resultsDiv.GSASearch({q: thisQ,num: perPageCount,includeKeymatches: true});}function searchTermFromQString(){var s;queryString = window.location.search.substring(1);nameValPairs = queryString.split("&");for (i=0;i<nameValPairs.length;i++) {nameVal = nameValPairs[i].split("=");if (nameVal[0] == "keyword")s = nameVal[1];}return s;}var searchTerm = searchTermFromQString();if (searchTermFromQString() != undefined){searchTerm = unescape(searchTerm);submitSearch(searchTerm);}$("#GSAResults").on("GSASearchComplete", function(){pagerDiv = $("#GSAPager");perPageCount = 15;resultsDiv = $(this);pagerDiv.empty();thisPageNumber = Math.floor((parseInt(resultsDiv.data("startNumber"))+parseInt(perPageCount))/parseInt(perPageCount));thisPageCount = Math.ceil(parseInt(resultsDiv.data("totalCount"))/perPageCount);pagerDiv.pager({pagenumber: thisPageNumber,pagecount: thisPageCount,buttonClickCallback: PagerClick});});PagerClick = function(pageclickednumber) {resultsDiv = $("#GSAResults");perPageCount = 15;startNumber = (pageclickednumber*perPageCount)-perPageCount;resultsDiv.GSASearch({q: thisQ,num: perPageCount,start: startNumber,includeKeymatches: true});}});
/*Sequence.js (www.sequencejs.com) // Version: 0.7.3 Beta // Author: Ian Lunn @IanLunn // Author URL: http://www.ianlunn.co.uk/ // Github: https://github.com/IanLunn/Sequence // This is a FREE script and is dual licensed under the following: http://www.opensource.org/licenses/mit-license.php | http://www.gnu.org/licenses/gpl.html // Sequence.js and its dependencies are (c) Ian Lunn Design 2012 unless otherwise stated. Aside from these comments, you may modify and distribute this file as you please. Have fun!*/
(function(e){function t(t,n,r,i){function f(){s.afterLoaded();s.settings.hideFramesUntilPreloaded&&s.settings.preloader&&s.sequence.children("li").show();if(s.settings.preloader)if(s.settings.hidePreloaderUsingCSS&&s.transitionsSupported){s.prependPreloadingCompleteTo=s.settings.prependPreloadingComplete==1?s.settings.preloader:e(s.settings.prependPreloadingComplete);s.prependPreloadingCompleteTo.addClass("preloading-complete");setTimeout(g,s.settings.hidePreloaderDelay)}else s.settings.preloader.fadeOut(s.settings.hidePreloaderDelay,function(){clearInterval(s.defaultPreloader);g()});else g()};function g(){function r(e){s.containerLeft=s.container.position().left;s.containerRight=s.containerLeft+s.container.width();s.containerTop=s.container.position().top;s.containerBottom=s.containerTop+s.container.height();var t=e.pageX,n=e.pageY;if(t>=s.containerLeft&&t<=s.containerRight&&n>=s.containerTop&&n<=s.containerBottom){s.settings.autoPlay=!1;clearTimeout(s.sequenceTimer);s.settings.pauseIcon!==undefined&&s.settings.pauseIcon.show();s.settings.pauseButton!==undefined&&s.settings.pauseButton.addClass("paused");s.paused();s.sequence.off("mousemove")}}e(s.settings.preloader).remove();s.settings.nextButton=s.init.uiElements(s.settings.nextButton,".next");s.settings.prevButton=s.init.uiElements(s.settings.prevButton,".prev");s.settings.pauseButton=s.init.uiElements(s.settings.pauseButton,".pause");s.settings.nextButton!==undefined&&s.settings.nextButton!==!1&&s.settings.showNextButtonOnInit&&s.settings.nextButton.show();s.settings.prevButton!==undefined&&s.settings.prevButton!==!1&&s.settings.showPrevButtonOnInit&&s.settings.prevButton.show();s.settings.pauseButton!==undefined&&s.settings.pauseButton!==!1&&s.settings.pauseButton.show();if(s.settings.pauseIcon!==!1){s.settings.pauseIcon=s.init.uiElements(s.settings.pauseIcon,".pause-icon");s.settings.pauseIcon!==undefined&&s.settings.pauseIcon.hide()}else s.settings.pauseIcon=undefined;s.hasTouch&&(s.settings.calculatedSwipeThreshold=s.container.width()*(s.settings.swipeThreshold/100));s.nextFrameID=s.settings.startingFrameID;s.nextFrame=s.sequence.children("li:nth-child("+s.nextFrameID+")");if(s.settings.hashTags){s.sequence.children("li").each(function(){s.frameHashID.push(e(this).attr(s.getHashTagFrom))});s.currentHashTag=location.hash.replace("#","");if(s.currentHashTag===undefined||s.currentHashTag==="")s.nextFrameID=s.settings.startingFrameID;else{s.frameHashIndex=e.inArray(s.currentHashTag,s.frameHashID);s.frameHashIndex!==-1?s.nextFrameID=s.frameHashIndex+1:s.nextFrameID=s.settings.startingFrameID}}s.nextFrame=s.sequence.children("li:nth-child("+s.nextFrameID+")");s.nextFrameChildren=s.nextFrame.children();s.direction;s.sequence.css({width:"100%",height:"100%",position:"relative"});s.sequence.children("li").css({width:"100%",height:"100%",position:"absolute"});if(s.transitionsSupported)if(!s.settings.animateStartingFrameIn){s.currentFrame=s.nextFrame.addClass("current-frame");s.settings.moveActiveFrameToTop&&s.currentFrame.css("z-index",s.numberOfFrames);s.currentFrameChildren=s.currentFrame.children();s.currentFrameID=s.nextFrameID;s.modifyElements(s.currentFrameChildren,"0s");s.currentFrameChildren.addClass("animate-in");if(s.settings.hashChangesOnFirstFrame){s.currentHashTag=s.currentFrame.attr(s.getHashTagFrom);document.location.hash="#"+s.currentHashTag}setTimeout(function(){s.modifyElements(s.currentFrameChildren,"")},100);if(s.settings.autoPlay){var t=function(){s.autoPlaySequence()};clearTimeout(s.sequenceTimer);s.sequenceTimer=setTimeout(t,s.settings.autoPlayDelay,s)}}else if(s.settings.reverseAnimationsWhenNavigatingBackwards&&s.settings.autoPlayDirection-1&&s.settings.animateStartingFrameIn){s.modifyElements(s.nextFrameChildren,"0s");s.nextFrameChildren.addClass("animate-out");s.goTo(s.nextFrameID,-1)}else s.goTo(s.nextFrameID,1);else{s.container.addClass("sequence-fallback");s.currentFrame=s.nextFrame;s.currentFrame.addClass("current-frame");s.beforeNextFrameAnimatesIn();s.afterNextFrameAnimatesIn();if(s.settings.hashChangesOnFirstFrame){s.currentHashTag=s.currentFrame.attr(s.getHashTagFrom);document.location.hash="#"+s.currentHashTag}s.currentFrameChildren=s.currentFrame.children();s.currentFrameID=s.nextFrameID;s.sequence.children("li").children().addClass("animate-in");s.sequence.children(":not(li:nth-child("+s.nextFrameID+"))").css({display:"none",opacity:0});if(s.settings.autoPlay){var t=function(){s.autoPlaySequence()};clearTimeout(s.sequenceTimer);s.sequenceTimer=setTimeout(t,s.settings.autoPlayDelay,s)}}s.settings.nextButton!==undefined&&s.settings.nextButton.click(function(){s.next()});s.settings.prevButton!==undefined&&s.settings.prevButton.click(function(){s.prev()});s.settings.pauseButton!==undefined&&s.settings.pauseButton.click(function(){s.pause()});if(s.settings.keyNavigation){var n={left:37,right:39};e(document).keydown(function(e){function t(e,t){var r;for(keyCodes in t){keyCodes==="left"||keyCodes==="right"?r=n[keyCodes]:r=keyCodes;e===r&&s.initCustomKeyEvent(t[keyCodes])}}var r=parseFloat(String.fromCharCode(e.keyCode));if(r>0&&r<=s.numberOfFrames&&s.settings.numericKeysGoToFrames){s.nextFrameID=r;s.goTo(r)}t(e.keyCode,s.settings.keyEvents);t(e.keyCode,s.settings.customKeyEvents)})}if(s.settings.pauseOnHover&&!s.settings.pauseOnElementsOutsideContainer&&s.settings.autoPlay){s.hoverEvent=s.sequence.mousemove(function(e){r(e)});s.sequence.mouseleave(function(e){s.settings.autoPlay=!0;var t=function(){s.autoPlaySequence()};clearTimeout(s.sequenceTimer);s.sequenceTimer=setTimeout(t,s.settings.autoPlayDelay,s);s.settings.pauseIcon!==undefined&&s.settings.pauseIcon.hide();s.settings.pauseButton!==undefined&&s.settings.pauseButton.removeClass("paused");s.unpaused();s.sequence.data("events")&&s.sequence.data("events").mousemove===undefined&&s.sequence.mousemove(function(e){r(e)})})}else s.settings.pauseOnHover&&s.settings.autoPlay&&(s.hoverEvent=s.sequence.hover(function(e){s.settings.autoPlay=!1;clearTimeout(s.sequenceTimer);s.settings.pauseIcon!==undefined&&s.settings.pauseIcon.show();s.settings.pauseButton!==undefined&&s.settings.pauseButton.addClass("paused");s.paused()},function(){s.settings.autoPlay=!0;var e=function(){s.autoPlaySequence()};clearTimeout(s.sequenceTimer);s.sequenceTimer=setTimeout(e,s.settings.autoPlayDelay,s);s.settings.pauseIcon!==undefined&&s.settings.pauseIcon.hide();s.settings.pauseButton!==undefined&&s.settings.pauseButton.removeClass("paused");s.unpaused()}));s.settings.hashTags&&e(window).hashchange(function(){newTag=location.hash.replace("#","");if(s.currentHashTag!==newTag){s.currentHashTag=newTag;s.frameHashIndex=e.inArray(s.currentHashTag,s.frameHashID);if(s.frameHashIndex!==-1){s.nextFrameID=s.frameHashIndex+1;s.goTo(s.nextFrameID)}}});if(s.settings.swipeNavigation&&s.hasTouch){var i={touchstartX:-1,touchstartY:-1,touchmoveX:-1,touchmoveY:-1};s.sequence.on("touchstart touchmove touchend",function(e){s.settings.swipePreventsDefault&&e.preventDefault();switch(e.originalEvent.type){case"touchmove":case"touchstart":i[e.originalEvent.type+"X"]=e.originalEvent.touches[0].pageX;i[e.originalEvent.type+"Y"]=e.originalEvent.touches[0].pageY;break;case"touchend":if(i.touchmoveX!==-1){var t=i.touchmoveX-i.touchstartX,n=i.touchmoveY-i.touchstartY;Math.abs(t)>Math.abs(n)&&t>s.settings.calculatedSwipeThreshold?s.initCustomKeyEvent(s.settings.swipeEvents.right):Math.abs(t)>Math.abs(n)&&Math.abs(t)>s.settings.calculatedSwipeThreshold?s.initCustomKeyEvent(s.settings.swipeEvents.left):Math.abs(n)>Math.abs(t)&&n>s.settings.calculatedSwipeThreshold?s.initCustomKeyEvent(s.settings.swipeEvents.down):Math.abs(n)>Math.abs(t)&&Math.abs(n)>s.settings.calculatedSwipeThreshold&&s.initCustomKeyEvent(s.settings.swipeEvents.up);i={touchstartX:-1,touchstartY:-1,touchmoveX:-1,touchmoveY:-1}}break;default:}})}e(window).resize(function(){s.settings.calculatedSwipeThreshold=s.container.width()*(s.settings.swipeThreshold/100)})}var s=this;s.container=e(t),s.sequence=s.container.children("ul");try{Modernizr.prefixed;if(Modernizr.prefixed===undefined)throw"undefined"}catch(o){i.modernizr()}var u={WebkitTransition:"-webkit-",MozTransition:"-moz-",OTransition:"-o-",msTransition:"-ms-",transition:""},a={WebkitTransition:"webkitTransitionEnd webkitAnimationEnd",MozTransition:"transitionend animationend",OTransition:"oTransitionEnd oAnimationEnd otransitionend oanimationend",msTransition:"MSTransitionEnd MSAnimationEnd",transition:"transitionend animationend"};s.prefix=u[Modernizr.prefixed("transition")],s.transitionEnd=a[Modernizr.prefixed("transition")],s.transitionProperties={},s.numberOfFrames=s.sequence.children("li").length,s.transitionsSupported=s.prefix!==undefined?!0:!1,s.hasTouch="ontouchstart"in window?!0:!1,s.sequenceTimer,s.isPaused=!1,s.hoverEvent,s.defaultPreloader,s.init={preloader:function(t){s.prependTo=s.settings.prependPreloader==1?s.container:s.settings.prependPreloader;switch(t){case!0:case undefined:i.defaultPreloader(s.prependTo,s.transitionsSupported,s.prefix);s.transitionsSupported||s.preloaderFallback();return e(".sequence-preloader");case!1:break;default:this.CSSSelectorToHTML(t);return e(t)}},uiElements:function(t,n){switch(t){case!1:return undefined;case!0:n===".sequence-preloader"&&i.defaultPreloader(s.container,s.transitionsSupported,s.prefix);return e(n);default:return e(t)}}};s.paused=function(){},s.unpaused=function(){},s.beforeNextFrameAnimatesIn=function(){},s.afterNextFrameAnimatesIn=function(){},s.beforeCurrentFrameAnimatesOut=function(){},s.afterCurrentFrameAnimatesOut=function(){},s.beforeFirstFrameAnimatesIn=function(){},s.afterFirstFrameAnimatesIn=function(){},s.beforeLastFrameAnimatesIn=function(){},s.afterLastFrameAnimatesIn=function(){},s.afterLoaded=function(){};s.settings=e.extend({},r,n),s.settings.preloader=s.init.uiElements(s.settings.preloader,".sequence-preloader");s.firstFrame=s.settings.animateStartingFrameIn?!0:!1;s.currentHashTag;s.getHashTagFrom=s.settings.hashDataAttribute?"data-sequence-hashtag":"id";s.frameHashID=[];s.settings.hideFramesUntilPreloaded&&s.settings.preloader&&s.sequence.children("li").hide();s.prefix==="-o-"&&(s.transitionsSupported=i.operaTest());s.modifyElements(s.sequence.children("li").children(),"0s");s.sequence.children("li").children().removeClass("animate-in");var l=s.settings.preloadTheseFrames.length,c=s.settings.preloadTheseImages.length;if(!s.settings.preloader||l===0&&c===0)e(window).on("load",function(){f();e(this).off("load")});else{function h(t,n){var r=[];if(!n)for(var i=t;i>0;i--)s.sequence.children("li:nth-child("+s.settings.preloadTheseFrames[i-1]+")").find("img").each(function(){r.push(e(this)[0])});else for(var i=t;i>0;i--)r.push(e("body").find('img[src="'+s.settings.preloadTheseImages[i-1]+'"]')[0]);return r}var p=h(l),d=h(c,!0),v=e(p.concat(d)),m=v.length;v.length?v.on("load",function(){--m<=0&&f()}).each(function(){if(this.complete||this.complete===undefined){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=e}}):f()}}t.prototype={preloaderFallback:function(){function r(){n=n===1?0:1;e(".sequence-preloader img:nth-child(1)").animate({opacity:n},100);e(".sequence-preloader img:nth-child(2)").animate({opacity:n},350);e(".sequence-preloader img:nth-child(3)").animate({opacity:n},600)}var t=this,n=0;r();t.defaultPreloader=setInterval(function(){r()},600)},initCustomKeyEvent:function(e){var t=this;switch(e){case"next":t.next();break;case"prev":t.prev();break;case"pause":t.pause()}},autoPlaySequence:function(e){var t=this;t.settings.autoPlayDirection===1?t.next():t.prev()},modifyElements:function(e,t){var n=this;e.css(n.prefixCSS(n.prefix,{"transition-duration":t,"transition-delay":t}))},prefixCSS:function(e,t){var n={};for(property in t)n[e+property]=t[property];return n},setTransitionProperties:function(t){var n=this;n.modifyElements(n.frameChildren,"");n.frameChildren.each(function(){n.transitionProperties["transition-duration"]=e(this).css(n.prefix+"transition-duration");n.transitionProperties["transition-delay"]=e(this).css(n.prefix+"transition-delay");e(this).css(n.prefixCSS(n.prefix,n.transitionProperties))})},pause:function(){var e=this;if(e.settings.autoPlay){if(e.settings.pauseButton!==undefined){e.settings.pauseButton.addClass("paused");e.settings.pauseIcon!==undefined&&e.settings.pauseIcon.show()}e.paused();e.stopAutoPlay()}else{if(e.settings.pauseButton!==undefined){e.settings.pauseButton.removeClass("paused");e.settings.pauseIcon!==undefined&&e.settings.pauseIcon.hide()}e.unpaused();e.startAutoPlay(e.settings.unpauseDelay)}},startAutoPlay:function(e,t){var n=this;e=e===undefined?0:e;n.settings.autoPlayDelay=t===undefined?n.settings.autoPlayDelay:t;n.settings.autoPlay=!0;var r=function(){n.autoPlaySequence()};clearTimeout(n.sequenceTimer);n.sequenceTimer=setTimeout(r,e,n);n.settings.pauseOnHover&&(n.hoverEvent=n.sequence.hover(function(){n.settings.autoPlay=!1;clearTimeout(n.sequenceTimer);n.settings.pauseIcon!==undefined&&n.settings.pauseIcon.show();n.settings.pauseButton!==undefined&&n.settings.pauseButton.addClass("paused");n.paused()},function(){n.settings.autoPlay=!0;var e=function(){n.autoPlaySequence()};clearTimeout(n.sequenceTimer);n.sequenceTimer=setTimeout(e,n.settings.autoPlayDelay,n);n.settings.pauseIcon!==undefined&&n.settings.pauseIcon.hide();n.settings.pauseButton!==undefined&&n.settings.pauseButton.removeClass("paused");n.unpaused()}))},stopAutoPlay:function(){var e=this;e.settings.autoPlay=!1;clearTimeout(e.sequenceTimer);e.hoverEvent!==undefined&&e.hoverEvent.off()},next:function(){var e=this;if(!e.active)if(e.settings.cycle||!e.settings.cycle&&e.currentFrameID!==e.numberOfFrames){if(e.isPaused){e.isPaused=!1;e.startAutoPlay()}e.nextFrameID=e.currentFrameID!==e.numberOfFrames?e.currentFrameID+1:1;e.goTo(e.nextFrameID,1)}else if(e.settings.autoPlayDirection===1){e.isPaused=!0;e.stopAutoPlay()}},prev:function(){var e=this;if(!e.active)if(e.settings.cycle||!e.settings.cycle&&e.currentFrameID!==1){if(e.isPaused){e.isPaused=!1;e.startAutoPlay()}e.nextFrameID=e.currentFrameID===1?e.numberOfFrames:e.currentFrameID-1;e.goTo(e.nextFrameID,-1)}else if(e.settings.autoPlayDirection===-1){e.isPaused=!0;e.stopAutoPlay()}},goTo:function(t,n){var r=this;t===r.numberOfFrames?r.beforeLastFrameAnimatesIn():t===1&&r.beforeFirstFrameAnimatesIn();if(r.currentFrame!==undefined&&t===r.currentFrame.index()+1)return!1;if(!r.active){r.active=!0;r.currentFrame=r.sequence.children(".current-frame");r.nextFrame=r.sequence.children("li:nth-child("+t+")");n===undefined?r.direction=t>r.currentFrameID?1:-1:r.direction=n;r.frameChildren=r.currentFrame.children();r.nextFrameChildren=r.nextFrame.children();if(r.transitionsSupported){if(r.currentFrame.length!==0){r.beforeCurrentFrameAnimatesOut();r.animateOut(r.direction)}var i=function(){r.animateIn(r.direction);r.currentFrameID=t};if(!r.firstFrame)switch(r.settings.transitionThreshold){case!0:r.waitForAnimationsToComplete(r.currentFrame,r.frameChildren,"out");break;case!1:i();break;default:setTimeout(i,r.settings.transitionThreshold)}else i()}else switch(r.settings.fallback.theme){case"slide":var s={},i={},o={};if(r.direction===1){s.left="-100%";i.left="100%"}else{s.left="100%";i.left="-100%"}o.left="0%";o.opacity=1;r.beforeCurrentFrameAnimatesOut();r.currentFrame.removeClass("current-frame").animate(s,r.settings.fallback.speed,function(){});r.beforeNextFrameAnimatesIn();r.nextFrame.addClass("current-frame").show().css(i).animate(o,r.settings.fallback.speed,function(){r.currentFrame=r.nextFrame;if(r.settings.hashTags){r.currentHashTag=r.currentFrame.attr(r.getHashTagFrom);r.frameHashIndex=e.inArray(r.currentHashTag,r.frameHashID);if(r.frameHashIndex!==-1){r.nextFrameID=r.frameHashIndex+1;document.location.hash="#"+r.currentHashTag}else r.nextFrameID=r.settings.startingFrameID}r.currentFrameID=r.currentFrame.index()+1;r.active=!1;r.afterNextFrameAnimatesIn();if(r.settings.autoPlay){var t=function(){r.autoPlaySequence()};clearTimeout(r.sequenceTimer);r.sequenceTimer=setTimeout(t,r.settings.autoPlayDelay,r)}});break;case"fade":default:r.sequence.children("li").css({position:"relative"});r.beforeCurrentFrameAnimatesOut();r.currentFrame.animate({opacity:0},r.settings.fallback.speed,function(){r.currentFrame.css({display:"none","z-index":"1"});r.currentFrame.removeClass("current-frame");r.beforeNextFrameAnimatesIn();r.nextFrame.addClass("current-frame").css({display:"block","z-index":r.numberOfFrames}).animate({opacity:1},500,function(){r.afterNextFrameAnimatesIn()});r.currentFrame=r.nextFrame;r.currentFrameID=r.currentFrame.index()+1;r.active=!1;if(r.settings.autoPlay){var e=function(){r.autoPlaySequence()};clearTimeout(r.sequenceTimer);r.sequenceTimer=setTimeout(e,r.settings.autoPlayDelay,r)}});r.sequence.children("li").css({position:"relative"})}}},animateOut:function(e){var t=this;t.settings.moveActiveFrameToTop&&t.currentFrame.css("z-index",1);t.currentFrame.removeClass("current-frame");t.nextFrame.addClass("next-frame");if(!t.settings.reverseAnimationsWhenNavigatingBackwards||e===1){t.modifyElements(t.nextFrameChildren,"0s");t.nextFrameChildren.removeClass("animate-out");t.modifyElements(t.frameChildren,"");t.frameChildren.addClass("animate-out").removeClass("animate-in")}if(t.settings.reverseAnimationsWhenNavigatingBackwards&&e===-1){t.modifyElements(t.nextFrameChildren,"0s");t.nextFrameChildren.addClass("animate-out");t.setTransitionProperties(t.frameChildren);t.frameChildren.removeClass("animate-in")}t.settings.transitionThreshold&&t.waitForAnimationsToComplete(t.currentFrame,t.currentFrame.children(),"out",!0)},animateIn:function(e){var t=this;t.active=!0;t.currentFrame.off(t.transitionEnd);t.currentFrame=t.nextFrame;e===1?t.currentFrameID=t.currentFrameID!==t.numberOfFrames?t.currentFrameID+1:1:t.currentFrameID=t.currentFrameID!==1?t.currentFrameID-1:t.numberOfFrames;t.nextFrameChildren=t.nextFrame.children();t.frameChildren=t.currentFrame.children();t.beforeNextFrameAnimatesIn();t.settings.moveActiveFrameToTop&&t.nextFrame.css({"z-index":t.numberOfFrames});!t.settings.reverseAnimationsWhenNavigatingBackwards||e===1?setTimeout(function(){t.modifyElements(t.frameChildren,"");t.frameChildren.addClass("animate-in");t.waitForAnimationsToComplete(t.nextFrame,t.nextFrameChildren,"in");t.settings.transitionThreshold!==!0&&t.afterCurrentFrameAnimatesOut!="function () {}"&&t.waitForAnimationsToComplete(t.currentFrame,t.currentFrame.children(),"out")},50):t.settings.reverseAnimationsWhenNavigatingBackwards&&e===-1&&setTimeout(function(){t.setTransitionProperties(t.frameChildren);t.frameChildren.addClass("animate-in").removeClass("animate-out");t.waitForAnimationsToComplete(t.nextFrame,t.nextFrameChildren,"in");t.settings.transitionThreshold!==!0&&t.afterCurrentFrameAnimatesOut!="function () {}"&&t.waitForAnimationsToComplete(t.currentFrame,t.currentFrame.children(),"out")},50)},waitForAnimationsToComplete:function(t,n,r,i){var s=this;if(r==="out")var o=function(){s.active=!1;t.off(s.transitionEnd);s.afterCurrentFrameAnimatesOut();i&&s.animateIn(s.direction)};else if(r==="in")var o=function(){t.off(s.transitionEnd);s.afterNextFrameAnimatesIn();if(s.settings.hashTags){s.currentHashTag=s.currentFrame.attr(s.getHashTagFrom);s.frameHashIndex=e.inArray(s.currentHashTag,s.frameHashID);if(s.frameHashIndex!==-1&&(s.settings.hashChangesOnFirstFrame||!s.firstFrame)){s.nextFrameID=s.frameHashIndex+1;document.location.hash="#"+s.currentHashTag}else{s.nextFrameID=s.settings.startingFrameID;s.firstFrame=!1}}s.currentFrameID===s.numberOfFrames?s.afterLastFrameAnimatesIn():s.currentFrameID===1&&s.afterFirstFrameAnimatesIn();s.nextFrame.removeClass("next-frame").addClass("current-frame");s.active=!1;if(s.settings.autoPlay){var n=function(){s.autoPlaySequence()};clearTimeout(s.sequenceTimer);s.sequenceTimer=setTimeout(n,s.settings.autoPlayDelay,s)}};n.each(function(){e(this).data("animationEnded",!1)});s.currentFrame.on(s.transitionEnd,function(t){e(t.target).data("animationEnded",!0);var r=!0;n.each(function(){e(this).data("animationEnded")===!1&&(r=!1)});r&&o()})}};e.fn.sequence=function(i){var s=this;return s.each(function(){var s=new t(e(this),i,r,n);e(this).data("sequence",s)})};var n={modernizr:function(){window.Modernizr=function(e,t,n){function r(e){v.cssText=e}function i(e,t){return r(prefixes.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&v[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.on(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+b.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+w.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.6.1",c={},h=t.documentElement,p="modernizr",d=t.createElement(p),v=d.style,m,g={}.toString,y="Webkit Moz O ms",b=y.split(" "),w=y.toLowerCase().split(" "),E={svg:"http://www.w3.org/2000/svg"},S={},x={},T={},N=[],C=N.slice,k,L={}.hasOwnProperty,A;!s(L,"undefined")&&!s(L.call,"undefined")?A=function(e,t){return L.call(e,t)}:A=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.on||(Function.prototype.on=function(e){var t=self;if(typeof t!="function")throw new TypeError;var n=C.call(arguments,1),r=function(){if(self instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(C.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(C.call(arguments)))};return r}),S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(E.svg,"svg").createSVGRect};for(var O in S)A(S,O)&&(k=O.toLowerCase(),c[k]=S[O](),N.push((c[k]?"":"no-")+k));return c.addTest=function(e,t){if(typeof e=="object")for(var r in e)A(e,r)&&c.addTest(r,e[r]);else{e=e.toLowerCase();if(c[e]!==n)return c;t=typeof t=="function"?t():t,enableClasses&&(h.className+=" "+(t?"":"no-")+e),c[e]=t}return c},r(""),d=m=null,c._version=l,c._domPrefixes=w,c._cssomPrefixes=b,c.testProp=function(e){return u([e])},c.testAllProps=f,c.prefixed=function(e,t,n){return t?f(e,t,n):f(e,"pfx")},c}(self,self.document)},defaultPreloader:function(t,n,r){var i='<div class="sequence-preloader"><svg class="preloading" xmlns="http://www.w3.org/2000/svg"><circle class="circle" cx="6" cy="6" r="6" /><circle class="circle" cx="22" cy="6" r="6" /><circle class="circle" cx="38" cy="6" r="6" /></svg></div>';e("head").append("<style>.sequence-preloader{height: 100%;position: absolute;width: 100%;z-index: 999999;}@"+r+"keyframes preload{0%{opacity: 1;}50%{opacity: 0;}100%{opacity: 1;}}.sequence-preloader .preloading .circle{fill: #ff9442;display: inline-block;height: 12px;position: relative;top: -50%;width: 12px;"+r+"animation: preload 1s infinite; animation: preload 1s infinite;}.preloading{display:block;height: 12px;margin: 0 auto;top: 50%;margin-top:-6px;position: relative;width: 48px;}.sequence-preloader .preloading .circle:nth-child(2){"+r+"animation-delay: .15s; animation-delay: .15s;}.sequence-preloader .preloading .circle:nth-child(3){"+r+"animation-delay: .3s; animation-delay: .3s;}.preloading-complete{opacity: 0;visibility: hidden;"+r+"transition-duration: 1s; transition-duration: 1s;}div.inline{background-color: #ff9442; margin-right: 4px; float: left;}</style>");t.prepend(i);if(!Modernizr.svg&&!n){e(".sequence-preloader").prepend('<div class="preloading"><div class="circle inline"></div><div class="circle inline"></div><div class="circle inline"></div></div>');setInterval(function(){e(".sequence-preloader .circle").fadeToggle(500)},500)}else n||setInterval(function(){e(".sequence-preloader").fadeToggle(500)},500)},operaTest:function(){e("body").append('<span id="sequence-opera-test"></span>');var t=e("#sequence-opera-test");t.css("-o-transition","1s");return t.css("-o-transition")!="1s"?!1:!0}},r={startingFrameID:1,cycle:!0,animateStartingFrameIn:!1,transitionThreshold:1e3,reverseAnimationsWhenNavigatingBackwards:!0,moveActiveFrameToTop:!0,autoPlay:!0,autoPlayDirection:1,autoPlayDelay:5e3,nextButton:!1,showNextButtonOnInit:!0,prevButton:!1,showPrevButtonOnInit:!0,pauseButton:!1,unpauseDelay:0,pauseOnHover:!0,pauseIcon:!1,pauseOnElementsOutsideContainer:!1,preloader:!0,preloadTheseFrames:[1],preloadTheseImages:[],hideFramesUntilPreloaded:!0,prependPreloadingComplete:!0,hidePreloaderUsingCSS:!0,hidePreloaderDelay:0,keyNavigation:!0,numericKeysGoToFrames:!0,keyEvents:{left:"prev",right:"next"},customKeyEvents:{},swipeNavigation:!0,swipeThreshold:15,swipePreventsDefault:!1,swipeEvents:{left:"prev",right:"next",up:!1,down:!1},hashTags:!1,hashDataAttribute:!1,hashChangesOnFirstFrame:!1,fallback:{theme:"slide",speed:500}}})(jQuery);
/*Function: FunctionHandler() // Author: Aaron Gustafson (aaron at easy-designs dot net) // Creation Date: 2009-04-02; Version: 0.2; Homepage: http://github.com/easy-designs/FunctionHandler.js; License: MIT License (see homepage)*/
(function(){var FunctionHandler={version:"0.2"},pages={};function initialize(){var body_id=$("body").attr("id");if(body_id!=false&&typeof(pages[body_id])!="undefined"){run(pages[body_id])}if(typeof(pages["*"])!="undefined"){run(pages["*"])}}$(document).ready(initialize);FunctionHandler.register=function(id,callback){if((typeof(id)!="string"&&!(id instanceof Array))||typeof(callback)!="function"){return false}if(typeof(id)=="string"&&id.indexOf(", ")!=-1){id=id.split(", ")}if(id instanceof Array){for(var i=id.length-1;i>=0;i--){add(id[i],callback)}}else{add(id,callback)}return true};function add(id,callback){if(typeof(pages[id])=="undefined"){pages[id]=[]}pages[id].push(callback)}function run(arr){if(!(arr instanceof Array)){return}for(var i=arr.length-1;i>=0;i--){arr[i]()}}window.FunctionHandler=FunctionHandler})();
/*hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+ // http://cherne.net/brian/resources/jquery.hoverIntent.html // @author: Brian Cherne brian(at)cherne(dot)net*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).off("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).off("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.on('mouseenter',handleHover).on('mouseleave',handleHover)}})(jQuery);
/*! Lazy Load 1.9.3 - MIT license - Copyright 2010-2013 Mika Tuupola */
!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);
/*Bootstrap.js by @fat & @mdo // plugins: bootstrap-transition.js, bootstrap-modal.js, bootstrap-dropdown.js, bootstrap-tab.js, bootstrap-tooltip.js, bootstrap-button.js, bootstrap-collapse.js, bootstrap-typeahead.js // Copyright 2012 Twitter, Inc. // http://www.apache.org/licenses/LICENSE-2.0.txt*/
!function(a){a(function(){a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!b)return;e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){function d(){a(b).each(function(){e(a(this)).removeClass("open")})}function e(b){var c=b.attr("data-target"),d;c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=c&&a(c);if(!d||!d.length)d=b.parent();return d}var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||f.toggleClass("open"),c.focus(),!1},keydown:function(c){var d,f,g,h,i,j;if(!/(38|40|27)/.test(c.keyCode))return;d=a(this),c.preventDefault(),c.stopPropagation();if(d.is(".disabled, :disabled"))return;h=e(d),i=h.hasClass("open");if(!i||i&&c.keyCode==27)return c.which==27&&h.find(b).focus(),d.click();f=a("[role=menu] li:not(.divider):visible a",h);if(!f.length)return;j=f.index(f.filter(":focus")),c.keyCode==38&&j>0&&j--,c.keyCode==40&&j<f.length-1&&j++,~j||(j=0),f.eq(j).focus()}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",d).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active:last a")[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" ");for(i=g.length;i--;)h=g[i],h=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):h!="manual"&&(e=h=="hover"?"mouseenter":"focus",f=h=="hover"?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a.fn[this.type].defaults,d={},e;this._options&&a.each(this._options,function(a,b){c[a]!=b&&(d[a]=b)},this),e=a(b.currentTarget)[this.type](d).data(this.type);if(!e.options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){e.hoverState=="in"&&e.show()},e.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(h);if(h.isDefaultPrevented())return;b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight;switch(f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c=this.tip(),d=c[0].offsetWidth,e=c[0].offsetHeight,f,g,h,i;c.offset(a).addClass(b).addClass("in"),f=c[0].offsetWidth,g=c[0].offsetHeight,b=="top"&&g!=e&&(a.top=a.top+e-g,i=!0),b=="bottom"||b=="top"?(h=0,a.left<0&&(h=a.left*-2,a.left=0,c.offset(a),f=c[0].offsetWidth,g=c[0].offsetHeight),this.replaceArrow(h-d+f,f,"left")):this.replaceArrow(g-e,g,"top"),i&&c.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function e(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var b=this,c=this.tip(),d=a.Event("hide");this.$element.trigger(d);if(d.isDefaultPrevented())return;return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?e():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},typeof b.getBoundingClientRect=="function"?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning||this.$element.hasClass("in"))return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning||!this.$element.hasClass("in"))return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),typeof c=="object"&&c);e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b=typeof this.$element[a]=="function"),b},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;c.typeahead(c.data())})}(window.jQuery)
/******* jQUERY FUNCTIONS BEGIN HERE *******/
// GLOBAL
FunctionHandler.register( ['*'], function(){
	// Detect OS & add a class to the HTML element, enabling PC ProximaNova-Light fix for Windows users.
	$('html').addClass( navigator.platform ).removeClass('no-js');
	// links - on state
	$('ul.nav.roles a, #feature_archivenav a').each(function(){if ($(this).attr('href') == (window.location.href) || $(this).attr('href') == (window.location.pathname)){$(this).addClass('on');}});
	// Lazyload images
	$('.lazy,.lazy2').show().lazyload({effect:'fadeIn', threshold:20,  failure_limit : 13});
	//tooltips
	$('a.tt').tooltip();
	// Show slideshow nav controls on hover
	$('.slide img, #features li img').hoverIntent(function () {$('p.ss-icon').addClass('ss-icon-show');},function () {$('p.ss-icon').removeClass('ss-icon-show');});
	if (screen.width > 767) {
		// Main Nav Drawers
		var d_about = $('#d_about');
		var d_admissions = $('#d_admissions');
		var d_academics = $('#d_academics');
		var d_research = $('#d_research');
		var d_medicine = $('#d_medicine');
		var d_civic = $('#d_civic');
		var d_campuslife = $('#d_campuslife');
		var d_service = $('#d_service');
		var alldrawers = $('#d_about,#d_admissions,#d_academics,#d_research,#d_medicine,#d_civic,#d_campuslife,#d_service');
		var allnav = $('#navabout,#navadmissions,#navacademics,#navresearch,#navmedicine,#navcivic,#navcampuslife,#navservice');
		//About
		$('#navabout').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_about.load('/new/html/menu/about.html').fadeIn(200);$('#d_admissions,#d_academics,#d_research,#d_medicine,#d_civic,#d_campuslife,#d_service').fadeOut(450);},function(){$('#d_about a').gaTrackEvent({category:'About Dropdown'});});
		// Admissions
		$('#navadmissions').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_admissions.load('/new/html/menu/admissions.html').fadeIn(200);$('#d_about,#d_academics,#d_research,#d_medicine,#d_civic,#d_campuslife,#d_service').fadeOut(450);},function(){$('#d_admissions a').gaTrackEvent({category:'Admissions Dropdown'});});
		// Academics
		$('#navacademics').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_academics.load('/new/html/menu/academics.html').fadeIn(200);$('#d_about,#d_admissions,#d_research,#d_medicine,#d_civic,#d_campuslife,#d_service').fadeOut(450);},function(){$('#d_academics a').gaTrackEvent({category:'Academics Dropdown'});});
		// Research
		$('#navresearch').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_research.load('/new/html/menu/research.html').fadeIn(200);$('#d_about,#d_admissions,#d_academics,#d_medicine,#d_civic,#d_campuslife,#d_service').fadeOut(450);},function(){$('#d_research a').gaTrackEvent({category:'Research Dropdown'});});
		// Medicine
		$('#navmedicine').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_medicine.load('/new/html/menu/medctr.html').fadeIn(200);$('#d_about,#d_admissions,#d_academics,#d_research,#d_civic,#d_campuslife,#d_service').fadeOut(450);},function(){$('#d_medicine a').gaTrackEvent({category:'Medicine Dropdown'});});
		// Civic Engagement
		$('#navcivic').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_civic.load('/new/html/menu/civic.html').fadeIn(200);$('#d_about,#d_admissions,#d_academics,#d_research,#d_medicine,#d_campuslife,#d_service').fadeOut(450);},function(){$('#d_civic a').gaTrackEvent({category:'Civic Engagement Dropdown'});});
		// Campus Life
		$('#navcampuslife').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_campuslife.load('/new/html/menu/campuslife.html').fadeIn(200);$('#d_about,#d_admissions,#d_academics,#d_research,#d_medicine,#d_civic,#d_service').fadeOut(450);},function(){$('#d_campuslife a').gaTrackEvent({category:'Campus Life Dropdown'});});
		// Campus service
		$('#navservice').hoverIntent(function(){allnav.removeClass('active');$(this).addClass('active');d_service.load('/new/html/menu/service.html').fadeIn(200);$('#d_about,#d_admissions,#d_academics,#d_research,#d_medicine,#d_civic').fadeOut(450);},function(){$('#d_service a').gaTrackEvent({category:'Campus Life Dropdown'});});
		// Search field behaviors
		var searchfield = $('form#sitesearch input[type="text"]');
		var submitbutton = $('form#sitesearch input[type="submit"]');
		var utilitynav = $('.nav.utility');
		// disable submit button by default
		submitbutton.prop('disabled','disabled');
		// enable submit button if search input is populated; disable if empty
		searchfield.keyup(function(){if($(this).val() != ''){submitbutton.removeProp('disabled');}else submitbutton.prop('disabled','disabled');});
		// Activate submit button and expand search field...
		function searchslideout() {searchfield.removeClass('animate-out').addClass('animate-in');utilitynav.removeClass('show').addClass('no-show');};
		//...when the search input has focus, for folks navigating with a keyboard
		searchfield.focusin(function() {if ($(this).attr('class') != ('animate-in')) {$(this).removeClass('animate-out').addClass('animate-in');}});
		// Slide search input back; close nav drawers when user hovers over or focuses on other parts of the page
		function searchslideback() {searchfield.addClass('animate-out').removeClass('animate-in').blur();utilitynav.removeClass('no-show').addClass('show');};
		$('.mainnav').hoverIntent(function(){searchslideback();},function(){});
		$('.hero, .grey, .container.white, .container.page').hoverIntent(function(){searchslideback();alldrawers.fadeOut(500);allnav.removeClass('active');},function(){});
		$('.nav a').focusin(function() {searchslideback();});
		$('.wordmark,#maincontent_home').hoverIntent(function(){alldrawers.fadeOut(500);allnav.removeClass('active');},function(){});
	}
	// Google Analytics Unobtrusive Event Tracking
	// masthead
	$('.navbar a,.wordmark a,.drawer a').gaTrackEvent({category:'Masthead'});
	// sub features
	$('.subfeature a').gaTrackEvent({category:'Interior Page Features'});
	// sub navigation
	$('#leftcol #subnav a').gaTrackEvent({category:'Interior Sub Navigation'});
	// related links
	$('#leftcol .module a').gaTrackEvent({category:'Related Links'});
	// main content
	$('.maincontent a').gaTrackEvent({category:'Main Content'});
	// right column modules
	$('.sidebar a').gaTrackEvent({category:'Right Column Modules'});
	// footer
	$('footer a').gaTrackEvent({category:'Footer'});
});